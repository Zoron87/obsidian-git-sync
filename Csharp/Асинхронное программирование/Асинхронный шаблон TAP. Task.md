Шаблон TAP (Task-based Asynchronus Pattern) - основан на библиотеке TPL - Task Parallel Library.
Для работы с шаблоном TAP используется пространство имен System.Threading.Tasks.![[GOM_fFXMfgmbPl.png]]

## Преимущества TAP:

1) Простая инициализация и завершение асинхронной задачи
2)  Удобный способ получения возвращаемого значения асинхронной операции
3)  Получение исключения, возникшего в асинхронной операции, для его обработки
4) Просмотр состояние асинхронной операции
5) Поддержка отмены выполнения (Необязательно)
6) Продолжения задач (Task Continuations)
7)  Планирование выполнения асинхронной операции


## Task

Task (задача) - конструкция, которая реализует модель параллельной обработки, основанной на обещаниях (Promise). Задача обещает, что работа будет выполнена позже, позволяя взаимодействовать с помощью "обещания" с чистым API.
Для работы с задачами в .NET используется класс Task.

### Способы создания задач:

- Создание экземпляра Task и вызов на нем метода Start():
```C#
Task task = new Task(new Action(Download));
```
- С помощью фабрики задач и метода StartNew():
```C#
TaskFactory taskFactory = new TaskFactory();
taskFactory.StartNew(new Action(Download));
```
- Вызов статического метода Task.Run():
```C#
Task.Run(new Action(Download));
```
- Вызов метода RunSynchronously() для выполнения в основном потоке:
```C#
Task task = new Task(new Action(Download));
task.
```