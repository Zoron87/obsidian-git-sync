
Построение образа
```
docker build -t your_image_name .
```

Здесь после параметра -t задается имя вашего образа. Внимание — в конце команды после пробела точка. Эта точка означает что используется текущая директория. Образ можно пометить образ каким-нибудь тэгом (номером или названием). Для этого после имени поставить двоеточие и указать тэг. Если тег не указать, то по умолчанию он будет задан с наименованием latest. Для того, чтобы отправить образ в репозиторий, необходимо, чтобы имя образа включало в себя имя репозитория. Примерно так:

```
docker build -t docker_account_name/image_name:your_tag . 
```

Здесь **your_docker_account_name** это имя вашего аккаунта в docker hub.

Здесь после параметра -t задается имя вашего образа. Внимание — в конце команды после пробела точка. Эта точка означает что используется текущая директория. Образ можно пометить образ каким-нибудь тэгом (номером или названием). Для этого после имени поставить двоеточие и указать тэг. Если тег не указать, то по умолчанию он будет задан с наименованием latest. Для того, чтобы отправить образ в репозиторий, необходимо, чтобы имя образа включало в себя имя репозитория. Примерно так:

```
docker build -t docker_account_name/image_name:your_tag . 
```  

Здесь your_docker_account_name это имя вашего аккаунта в docker hub.

Команда, с помощью которой можно запустить контейнер выглядит так:

```
docker run -it -p 5000:80 image_name
```

Параметр -it создаст псевдо-TTY и ваш контейнер станет отвечать на запросы. После запуска команды сервис станет доступным по адресу [http://localhost:5000/](http://localhost:5000/)

**-p 5000:80** связывает порт 5000 контейнера с портом 80 хоста.

Кроме того, есть такие команды:

```
docker ps –a
```
Покажет вам список контейнеров. Так как добавлен ключ -a, то будут отображены все контейнеры, а не только те, которые запущены на данный момент.

```
docker rm container_name
```

Эта команда удалит контейнер с именем container_name. rm – сокращение от remove

```
docker logs container_name
```

Отобразит логи контейнера

```
docker rmi image_name
```

Удалит образ с именем image_name


### Команды для управления контейнерами

- **docker run**

Создает и запускает контейнер из образа. Принимает различные параметры и аргументы, которые определяют настройки контейнера.

Примеры использования:

Запуск контейнера в фоновом режиме, проброс порта с хоста на контейнер и передача переменной окружения:

    

    `` `docker run -d -p 8080:80 -e ENV_VAR=value nginx` ``
  

Запуск контейнера с ограничением ресурсов, в данном примере — количества оперативной памяти:

    

    `` `docker run --memory=2g myimage` ``
  

- **docker start**

Запускает остановленный контейнер. Позволяет возобновить выполнение контейнера, который был ранее остановлен.

Примеры использования:

Запуск одного остановленного контейнера:

    

    `` `docker start mycontainer` ``
  

Запуск нескольких:

    

    `` `docker start first_container second_container third_container` ``
  

- **docker stop**

Останавливает работающий контейнер. Позволяет завершить выполнение контейнера и отключить его.

Примеры использования:

Остановка одного работающего контейнера:

    

    `` `docker stop mycontainer` ``
  

Остановка нескольких:

    

    `` `docker stop first_container second_container third_container` ``
  

Остановка по времени (в данном примере — через 30 секунд):

    

    `docker stop -t 30 mycontainer`
  

- **docker restart**

Перезапускает контейнер. Позволяет остановить контейнер и затем опять запустить.

Примеры использования:

Перезапуск одного контейнера:

    

    `` `docker restart mycontainer` ``
  

Перезапуск нескольких:

    

    `` `docker restart first_container second_container third_container` ``
  

Перезапуск через определенное время:

    

    `` `docker restart -t 30 mycontainer` ``
  

- **docker rm**

Удаляет один или несколько контейнеров, которые уже остановлены. Позволяет очистить систему от не используемых контейнеров.

Примеры использования:

Удаление одного контейнера:

    

    `` `docker rm mycontainer` ``
  

Удаление нескольких:

    

    `` `docker rm first_container second_container third_container` ``
  

Принудительное удаление (позволяет удалить контейнер, который выполняется в данный момент):

    

    `` `docker rm -f mycontainer` ``
  

- **docker ps**

Отображает список активных контейнеров в системе. Позволяет получить различную информацию о работающих контейнерах, включая их ID, имена, статус, порты, использование ресурсов.

Примеры использования:

Отображение списка только работающих контейнеров:

    

    `` `docker ps` ``
  

Отображение списка всех (включая остановленные):

    

    `` `docker ps -a` ``
  

Отображение размера занимаемого дискового пространства:

    

    `` `docker ps -s` ``




### Команды для управления образами

- **docker pull**

Загружает образы из удаленного репозитория Docker Hub. Позволяет получить доступ к готовым образам.

Примеры использования:

Загрузка последней версии Ubuntu:

    

    `` `docker pull ubuntu` ``
  

Здесь `ubuntu` — это имя образа, но версия не указана, поэтому будет загружена последняя.

Загрузка определенной версии:

    

    `` `docker pull ubuntu:20.04` ``
  

- **docker build**

Нужна для сборки пользовательского образа Docker на основе Dockerfile. Dockerfile — это текстовый файл с инструкциями для сборки образа, включая базовый образ, установку зависимостей, копирование файлов.

Примеры использования:

Сборка образа из текущего каталога, используя Dockerfile в этом каталоге:

    

    `` `docker build -t myimage:latest .` ``
  

Сборка образа из удаленного репозитория Git, который содержит Dockerfile:

    

    `` `docker build -t myimage:latest https://github.com/username/repo.git#branch` ``
  

- **docker push**

Загружает пользовательский образ в Docker Hub или другие хранилища образов. Позволяет делиться созданным образом с другими пользователями Docker.

Примеры использования:

Загрузка в репозиторий по умолчанию:

    

    `` `docker push username/myimage:1.0` ``
  

Загрузка в другое хранилище (в данном примере — репозиторий ECR):

    

    `` `docker push myecr/myimage:latest` ``
  

- **docker rmi**

Удаляет образы с локального хоста. Позволяет освободить место, удалив не используемые или устаревшие образы.

Примеры использования:

Удаление одного образа:

    

    `` `docker rmi myimage:1.0` ``
  

Удаление нескольких:

    

    `` `docker rmi myimage:1.0 myotherimage:latest` ``
  

- **docker images**

Выводит список образов, которые находятся на вашем локальном хосте. Она позволяет просматривать информацию о доступных образах: идентификаторы, размеры, теги и прочее.

Примеры использования:

Вывод всех образов:

    

    `` `docker images` ``
  

Вывод образов по конкретному репозиторию:

    

    `` `docker images myrepository/myimage` ``



### Команды Docker Compose

Docker Compose работает поверх Docker и позволяет управлять множеством контейнеров в рамках одного проекта. Давайте рассмотрим основные команды (принципы работы большинства из них вам уже знакомы):

- **docker-compose up** — запускает приложение со всеми контейнеры, информация о которых есть в docker-compose.yml. Если файл не указан, по умолчанию используется файл в текущем каталоге;
- **docker-compose down** — останавливает и удаляет все контейнеры, а также тома, связанные с ними;
- **docker-compose start** — запускает остановленные контейнеры;
- **docker-compose stop** — останавливает работу запущенных контейнеров без их удаления;
- **docker-compose restart** — перезапускает контейнеры;
- **docker-compose build** — позволяет обновить образы или создать их заново, если они были изменены;
- **docker-compose logs** — выводит журналы состояния;
- **docker-compose ps** — отображает текущее состояние контейнеров;
- **docker-compose pull** — загружает последние версии образов для сервисов, описанных в файле docker-compose.yml.
## Команды для управления контейнерами

  
Общая схема команд для управления контейнерами выглядит так:  
  

```
docker container my_command
```

  
Вот команды, которые могут быть подставлены туда, где мы использовали `my_command`:  
  

- `create` — создание контейнера из образа.
- `start` — запуск существующего контейнера.
- `run` — создание контейнера и его запуск.
- `ls` — вывод списка работающих контейнеров.
- `inspect` — вывод подробной информации о контейнере.
- `logs` — вывод логов.
- `stop` — остановка работающего контейнера с отправкой главному процессу контейнера сигнала `SIGTERM`, и, через некоторое время, `SIGKILL`.
- `kill` — остановка работающего контейнера с отправкой главному процессу контейнера сигнала `SIGKILL`.
- `rm` — удаление остановленного контейнера.

  

## Команды для управления образами

  
Для управления образами используются команды, которые выглядят так:  
  

```
docker image my_command
```

  
Вот некоторые из команд этой группы:  
  

- `build` — сборка образа.
- `push` — отправка образа в удалённый реестр.
- `ls` — вывод списка образов.
- `history` — вывод сведений о слоях образа.
- `inspect` — вывод подробной информации об образе, в том числе — сведений о слоях.
- `rm` — удаление образа.

  

## Разные команды

  

- `docker version` — вывод сведений о версиях клиента и сервера Docker.
- `docker login` — вход в реестр Docker.
- `docker system prune` — удаление неиспользуемых контейнеров, сетей и образов, которым не назначено имя и тег.

  
Теперь рассмотрим эти команды подробнее.





You can stop the container and start it again using standard docker commands, i.e.:

docker stop mssql2022_1  
docker start mssql2022_1

Для того чтобы обратиться к конкретному контейнеру или образу в Docker, используются их ID или названия, придуманные разработчиком. Допустим, для создания и запуска контейнера с названием new_container надо ввести: 

docker container run new_container

